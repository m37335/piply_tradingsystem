# パターン検出システム仕様書

**作成日**: 2025年9月18日  
**最終更新**: 2025年9月18日  
**バージョン**: v1.0  
**対象モジュール**: llm_analysis（ルールベース売買システム）  
**目的**: 現在のパターン検出システムの詳細仕様と改善提案

---

## 📋 目次

1. [システム概要](#1-システム概要)
2. [現在のパターン検出仕様](#2-現在のパターン検出仕様)
3. [ルールベース判定システム](#3-ルールベース判定システム)
4. [テクニカル指標計算](#4-テクニカル指標計算)
5. [スコア計算アルゴリズム](#5-スコア計算アルゴリズム)
6. [データ品質管理](#6-データ品質管理)
7. [改善提案](#7-改善提案)
8. [実装計画](#8-実装計画)

---

## 1. システム概要

### 1.1 現在のアーキテクチャ
- **イベント駆動システム**: データ収集完了時に自動でテクニカル分析を実行
- **階層的分析**: D1/H4（トレンド）、H1（ゾーン）、M5（タイミング）の3段階
- **ルールベース判定**: 数値ベースの厳格な売買条件判定
- **リアルタイム監視**: 継続的監視ツールによるシステム状況の可視化

### 1.2 データフロー
```
データ収集完了イベント → テクニカル分析 → ルールベース判定 → シナリオ管理 → Discord配信
       ↓                    ↓              ↓              ↓
   イベントテーブル      階層的分析      エントリー/エグジット    スナップ保存
       ↓                    ↓              ↓              ↓
   イベント監視        テクニカル指標計算    ルール遵守判定      日次評価・改善
```

---

## 2. 現在のパターン検出仕様

### 2.1 アクティブルール（5つ）

#### 2.1.1 pullback_buy（押し目買い）
```yaml
name: "pullback_buy"
enabled: true
description: "押し目買い"
conditions:
  - "RSI_14 <= 40"                    # オーバーソールド条件
  - "price > EMA_200"                 # 長期トレンド方向
  - "MACD > MACD_Signal"              # モメンタム条件
  - "active_session = Tokyo OR London" # セッション制約
  - "daily_trades < 5"                # リスク制約
  - "daily_risk < 3%"
```

#### 2.1.2 reversal_sell（逆張り売り）
```yaml
name: "reversal_sell"
enabled: true
description: "逆張り売り"
conditions:
  - "RSI_14 >= 70"                    # オーバーボート条件
  - "price < EMA_200"                 # 長期トレンド方向
  - "MACD < MACD_Signal"              # モメンタム条件
  - "active_session = Tokyo OR London" # セッション制約
  - "daily_trades < 5"                # リスク制約
  - "daily_risk < 3%"
```

#### 2.1.3 trend_follow_sell（下降トレンドフォロー売り）
```yaml
name: "trend_follow_sell"
enabled: true
description: "下降トレンドフォロー売り"
conditions:
  - "price < EMA_200"                 # 長期トレンド方向
  - "EMA_21 < EMA_55"                 # 中期トレンド確認
  - "MACD < 0"                        # モメンタム条件
  - "RSI_14 < 50"                     # 勢い条件
  - "active_session = Tokyo OR London OR NewYork" # セッション制約
  - "daily_trades < 5"                # リスク制約
  - "daily_risk < 3%"
```

#### 2.1.4 strong_downtrend_sell（強い下降トレンド売り）
```yaml
name: "strong_downtrend_sell"
enabled: true
description: "強い下降トレンド売り（RSI 25-40）"
conditions:
  - "RSI_14 <= 40"                    # 強いオーバーソールド
  - "RSI_14 >= 25"                    # 下限設定
  - "price < EMA_200"                 # 長期トレンド方向
  - "MACD < 0"                        # モメンタム条件
  - "active_session = Tokyo OR London OR NewYork" # セッション制約
  - "daily_trades < 5"                # リスク制約
  - "daily_risk < 3%"
```

#### 2.1.5 breakout_buy（ブレイクアウト買い）
```yaml
name: "breakout_buy"
enabled: false  # 段階的導入
description: "ブレイクアウト買い"
conditions:
  - "price > EMA_21"                  # 短期トレンド方向
  - "RSI_14 > 50"                     # 勢い条件
  - "MACD > 0"                        # モメンタム条件
  - "Volume_Ratio > 1.5"              # ボリューム条件
  - "active_session = London OR NewYork" # セッション制約
  - "daily_trades < 5"                # リスク制約
  - "daily_risk < 3%"
```

### 2.2 エグジットルール（共通）

#### 2.2.1 利確目標
```yaml
profit_targets:
  tp1:
    condition: "price >= entry_price + (ATR * 1.5)"
    action: "close_50_percent"
  tp2:
    condition: "price >= entry_price + (ATR * 2.5)"
    action: "close_30_percent"
  tp3:
    condition: "price >= entry_price + (ATR * 4.0)"
    action: "close_remaining"
```

#### 2.2.2 ストップロス
```yaml
stop_loss:
  sl:
    condition: "price <= entry_price - (ATR * 1.0)"
    action: "close_all"
```

#### 2.2.3 時間ベース
```yaml
time_based:
  max_hold:
    condition: "hold_time >= 240 minutes"
    action: "close_all"
  min_hold:
    condition: "hold_time >= 30 minutes"
    action: "allow_exit"
```

---

## 3. ルールベース判定システム

### 3.1 判定プロセス
1. **データ準備**: 階層的テクニカル指標計算
2. **条件評価**: 各ルールの条件を個別に評価
3. **スコア計算**: 重み付き平均で総合スコア算出
4. **シグナル生成**: 70%以上のスコアでシグナル生成
5. **リスクチェック**: リスク制約の最終確認

### 3.2 判定条件
- **必須条件**: すべての必須条件を満たす必要
- **スコア閾値**: 70%以上の総合スコア
- **リスク制約**: 日次トレード数・リスク制限の遵守

---

## 4. テクニカル指標計算

### 4.1 階層的分析構造

#### 4.1.1 Stage 1: トレンド分析（D1/H4）
```python
timeframes: ["1d", "4h"]
lookback_hours: 8760  # 1年間
max_data_points: 400  # 1年分の日足データ用
indicators: [
    "EMA_21", "EMA_55", "EMA_200",  # 移動平均
    "RSI_14",                       # 相対力指数
    "MACD", "MACD_Signal",          # MACD
    "ATR_14",                       # 平均真の範囲
    "Fibonacci_Retracement"         # フィボナッチ
]
```

#### 4.1.2 Stage 2: ゾーン分析（H1）
```python
timeframes: ["1h"]
lookback_hours: 72    # 3日間
max_data_points: 100
indicators: [
    "Support_Resistance_Levels",    # サポート・レジスタンス
    "Fibonacci_Levels",             # フィボナッチレベル
    "Volume_Profile"                # ボリュームプロファイル
]
```

#### 4.1.3 Stage 3: タイミング分析（M5）
```python
timeframes: ["5m"]
lookback_hours: 24    # 1日間
max_data_points: 300
indicators: [
    "RSI_14", "Stochastic",         # オシレーター
    "Bollinger_Bands",              # ボリンジャーバンド
    "Volume_Ratio"                  # ボリューム比率
]
```

### 4.2 計算される指標（40個）

#### 4.2.1 1d足（日足）指標
```python
# トレンド分析用指標（長期トレンド確認）
trend_indicators_1d = [
    "EMA_21", "EMA_55", "EMA_200",     # 指数移動平均（短期・中期・長期）
    "SMA_50", "SMA_100", "SMA_200",    # 単純移動平均
    "MACD", "MACD_Signal", "MACD_Histogram",  # MACD系
    "ADX", "DI+", "DI-",               # トレンド強度
    "Parabolic_SAR"                    # パラボリックSAR
]

# オシレーター系指標
oscillator_indicators_1d = [
    "RSI_14", "RSI_21",                # 相対力指数
    "Stochastic_14", "Stochastic_21",  # ストキャスティクス
    "Williams_%R",                     # ウィリアムズ%R
    "CCI_14", "CCI_21"                 # 商品チャンネル指数
]

# ボラティリティ系指標
volatility_indicators_1d = [
    "ATR_14", "ATR_21",                # 平均真の範囲
    "Bollinger_Bands_Upper", "Bollinger_Bands_Lower",  # ボリンジャーバンド
    "Keltner_Channels_Upper", "Keltner_Channels_Lower", # ケルトナーチャンネル
    "Standard_Deviation_20"            # 標準偏差
]

# ボリューム系指標
volume_indicators_1d = [
    "Volume_Ratio",                    # ボリューム比率
    "OBV",                             # 出来高バランス
    "A/D_Line",                        # 蓄積/分散ライン
    "Chaikin_MF"                       # チャイキンMF
]

# フィボナッチ系指標
fibonacci_indicators_1d = [
    "Fib_0.236", "Fib_0.382", "Fib_0.5",  # フィボナッチリトレースメント
    "Fib_0.618", "Fib_0.786", "Fib_1.0",  # 主要レベル
    "Fib_1.272", "Fib_1.618"              # エクステンションレベル
]
```

#### 4.2.2 4h足（4時間足）指標
```python
# 中期トレンド確認用指標
trend_indicators_4h = [
    "EMA_21", "EMA_55", "EMA_200",     # 指数移動平均
    "SMA_50", "SMA_100",               # 単純移動平均
    "MACD", "MACD_Signal",             # MACD系
    "ADX", "DI+", "DI-",               # トレンド強度
    "Parabolic_SAR"                    # パラボリックSAR
]

# オシレーター系指標
oscillator_indicators_4h = [
    "RSI_14", "RSI_21",                # 相対力指数
    "Stochastic_14", "Stochastic_21",  # ストキャスティクス
    "Williams_%R",                     # ウィリアムズ%R
    "CCI_14", "CCI_21"                 # 商品チャンネル指数
]

# ボラティリティ系指標
volatility_indicators_4h = [
    "ATR_14", "ATR_21",                # 平均真の範囲
    "Bollinger_Bands_Upper", "Bollinger_Bands_Lower",  # ボリンジャーバンド
    "Keltner_Channels_Upper", "Keltner_Channels_Lower", # ケルトナーチャンネル
    "Standard_Deviation_20"            # 標準偏差
]

# ボリューム系指標
volume_indicators_4h = [
    "Volume_Ratio",                    # ボリューム比率
    "OBV",                             # 出来高バランス
    "A/D_Line",                        # 蓄積/分散ライン
    "Chaikin_MF"                       # チャイキンMF
]

# フィボナッチ系指標
fibonacci_indicators_4h = [
    "Fib_0.236", "Fib_0.382", "Fib_0.5",  # フィボナッチリトレースメント
    "Fib_0.618", "Fib_0.786", "Fib_1.0",  # 主要レベル
    "Fib_1.272", "Fib_1.618"              # エクステンションレベル
]
```

#### 4.2.3 1h足（1時間足）指標
```python
# ゾーン分析用指標
zone_indicators_1h = [
    "EMA_21", "EMA_55", "EMA_200",     # 指数移動平均
    "SMA_50", "SMA_100",               # 単純移動平均
    "MACD", "MACD_Signal",             # MACD系
    "ADX", "DI+", "DI-",               # トレンド強度
    "Parabolic_SAR"                    # パラボリックSAR
]

# オシレーター系指標
oscillator_indicators_1h = [
    "RSI_14", "RSI_21",                # 相対力指数
    "Stochastic_14", "Stochastic_21",  # ストキャスティクス
    "Williams_%R",                     # ウィリアムズ%R
    "CCI_14", "CCI_21"                 # 商品チャンネル指数
]

# ボラティリティ系指標
volatility_indicators_1h = [
    "ATR_14", "ATR_21",                # 平均真の範囲
    "Bollinger_Bands_Upper", "Bollinger_Bands_Lower",  # ボリンジャーバンド
    "Keltner_Channels_Upper", "Keltner_Channels_Lower", # ケルトナーチャンネル
    "Standard_Deviation_20"            # 標準偏差
]

# ボリューム系指標
volume_indicators_1h = [
    "Volume_Ratio",                    # ボリューム比率
    "OBV",                             # 出来高バランス
    "A/D_Line",                        # 蓄積/分散ライン
    "Chaikin_MF"                       # チャイキンMF
]

# フィボナッチ系指標
fibonacci_indicators_1h = [
    "Fib_0.236", "Fib_0.382", "Fib_0.5",  # フィボナッチリトレースメント
    "Fib_0.618", "Fib_0.786", "Fib_1.0",  # 主要レベル
    "Fib_1.272", "Fib_1.618"              # エクステンションレベル
]
```

#### 4.2.4 5m足（5分足）指標
```python
# タイミング分析用指標
timing_indicators_5m = [
    "EMA_21", "EMA_55", "EMA_200",     # 指数移動平均
    "SMA_50", "SMA_100",               # 単純移動平均
    "MACD", "MACD_Signal",             # MACD系
    "ADX", "DI+", "DI-",               # トレンド強度
    "Parabolic_SAR"                    # パラボリックSAR
]

# オシレーター系指標
oscillator_indicators_5m = [
    "RSI_14", "RSI_21",                # 相対力指数
    "Stochastic_14", "Stochastic_21",  # ストキャスティクス
    "Williams_%R",                     # ウィリアムズ%R
    "CCI_14", "CCI_21"                 # 商品チャンネル指数
]

# ボラティリティ系指標
volatility_indicators_5m = [
    "ATR_14", "ATR_21",                # 平均真の範囲
    "Bollinger_Bands_Upper", "Bollinger_Bands_Lower",  # ボリンジャーバンド
    "Keltner_Channels_Upper", "Keltner_Channels_Lower", # ケルトナーチャンネル
    "Standard_Deviation_20"            # 標準偏差
]

# ボリューム系指標
volume_indicators_5m = [
    "Volume_Ratio",                    # ボリューム比率
    "OBV",                             # 出来高バランス
    "A/D_Line",                        # 蓄積/分散ライン
    "Chaikin_MF"                       # チャイキンMF
]

# フィボナッチ系指標
fibonacci_indicators_5m = [
    "Fib_0.236", "Fib_0.382", "Fib_0.5",  # フィボナッチリトレースメント
    "Fib_0.618", "Fib_0.786", "Fib_1.0",  # 主要レベル
    "Fib_1.272", "Fib_1.618"              # エクステンションレベル
]
```

#### 4.2.5 指標計算の詳細仕様

##### 移動平均系指標
```python
# 指数移動平均（EMA）
EMA_21 = ta.EMA(close, timeperiod=21)
EMA_55 = ta.EMA(close, timeperiod=55)
EMA_200 = ta.EMA(close, timeperiod=200)

# 単純移動平均（SMA）
SMA_50 = ta.SMA(close, timeperiod=50)
SMA_100 = ta.SMA(close, timeperiod=100)
SMA_200 = ta.SMA(close, timeperiod=200)
```

##### オシレーター系指標
```python
# 相対力指数（RSI）
RSI_14 = ta.RSI(close, timeperiod=14)
RSI_21 = ta.RSI(close, timeperiod=21)

# ストキャスティクス
Stochastic_14 = ta.STOCH(high, low, close, fastk_period=14, slowk_period=3, slowd_period=3)
Stochastic_21 = ta.STOCH(high, low, close, fastk_period=21, slowk_period=3, slowd_period=3)

# ウィリアムズ%R
Williams_%R = ta.WILLR(high, low, close, timeperiod=14)

# 商品チャンネル指数（CCI）
CCI_14 = ta.CCI(high, low, close, timeperiod=14)
CCI_21 = ta.CCI(high, low, close, timeperiod=21)
```

##### トレンド系指標
```python
# MACD
MACD, MACD_Signal, MACD_Histogram = ta.MACD(close, fastperiod=12, slowperiod=26, signalperiod=9)

# 平均方向性指数（ADX）
ADX = ta.ADX(high, low, close, timeperiod=14)
DI+ = ta.PLUS_DI(high, low, close, timeperiod=14)
DI- = ta.MINUS_DI(high, low, close, timeperiod=14)

# パラボリックSAR
Parabolic_SAR = ta.SAR(high, low, acceleration=0.02, maximum=0.2)
```

##### ボラティリティ系指標
```python
# 平均真の範囲（ATR）
ATR_14 = ta.ATR(high, low, close, timeperiod=14)
ATR_21 = ta.ATR(high, low, close, timeperiod=21)

# ボリンジャーバンド
Bollinger_Bands_Upper, Bollinger_Bands_Middle, Bollinger_Bands_Lower = ta.BBANDS(close, timeperiod=20, nbdevup=2, nbdevdn=2)

# ケルトナーチャンネル
Keltner_Channels_Upper = EMA_20 + (2 * ATR_20)
Keltner_Channels_Lower = EMA_20 - (2 * ATR_20)

# 標準偏差
Standard_Deviation_20 = ta.STDDEV(close, timeperiod=20)
```

##### ボリューム系指標
```python
# ボリューム比率
Volume_Ratio = current_volume / average_volume_20

# 出来高バランス（OBV）
OBV = ta.OBV(close, volume)

# 蓄積/分散ライン（A/D Line）
A/D_Line = ta.AD(high, low, close, volume)

# チャイキンMF
Chaikin_MF = ta.ADOSC(high, low, close, volume, fastperiod=3, slowperiod=10)
```

##### フィボナッチ系指標
```python
# フィボナッチリトレースメント
def calculate_fibonacci_levels(high, low):
    diff = high - low
    return {
        'Fib_0.236': high - (diff * 0.236),
        'Fib_0.382': high - (diff * 0.382),
        'Fib_0.5': high - (diff * 0.5),
        'Fib_0.618': high - (diff * 0.618),
        'Fib_0.786': high - (diff * 0.786),
        'Fib_1.0': high - (diff * 1.0),
        'Fib_1.272': high - (diff * 1.272),
        'Fib_1.618': high - (diff * 1.618)
    }
```

#### 4.2.6 指標の用途別分類

##### トレンド分析（1d/4h足）
- **主要指標**: EMA_200, SMA_200, ADX, MACD
- **用途**: 長期トレンド方向の確認
- **判定基準**: 価格とEMA_200の位置関係、ADX > 25でトレンド確定

##### ゾーン分析（1h足）
- **主要指標**: EMA_55, Bollinger_Bands, Fibonacci_Levels
- **用途**: サポート・レジスタンスレベルの特定
- **判定基準**: 価格とフィボナッチレベルの位置関係

##### タイミング分析（5m足）
- **主要指標**: RSI_14, Stochastic_14, Volume_Ratio
- **用途**: エントリー・エグジットタイミングの最適化
- **判定基準**: オシレーターの過買い・過売り状態、ボリューム確認

---

## 5. スコア計算アルゴリズム

### 5.1 個別条件スコア（0-1の範囲）

#### 5.1.1 RSI条件
```python
# RSI_14 <= 40 の場合
score = max(0.0, 1.0 - (rsi_value - 40) / 40) if rsi_value > 40 else 1.0

# RSI_14 >= 70 の場合  
score = max(0.0, 1.0 - (70 - rsi_value) / 30) if rsi_value < 70 else 1.0

# RSI_14 > 50 の場合
score = max(0.0, (rsi_value - 50) / 50) if rsi_value > 50 else 0.0
```

#### 5.1.2 EMA条件
```python
# price > EMA_200 の場合
price_diff_ratio = (current_price - ema_value) / ema_value
score = min(1.0, max(0.0, price_diff_ratio * 10)) if current_price > ema_value else 0.0

# price < EMA_200 の場合
price_diff_ratio = (ema_value - current_price) / ema_value
score = min(1.0, max(0.0, price_diff_ratio * 10)) if current_price < ema_value else 0.0
```

#### 5.1.3 MACD条件
```python
# MACD > MACD_Signal の場合
macd_diff_ratio = (macd_value - macd_signal) / abs(macd_signal)
score = min(1.0, max(0.0, macd_diff_ratio * 5)) if macd_value > macd_signal else 0.0
```

### 5.2 総合スコア計算
```python
# 重み付き平均
total_score += result.score * result.weight
total_weight += result.weight
overall_score = total_score / total_weight if total_weight > 0 else 0.0

# シグナル生成条件
if all_passed and overall_score >= 0.7:  # 70%以上のスコア
    # シグナル生成
else:
    # 条件未満
```

### 5.3 現在のスコア状況
- **pullback_buy**: 0.50（50%の条件適合度）
- **reversal_sell**: 0.59（59%の条件適合度）
- **trend_follow_sell**: 0.33（33%の条件適合度）
- **strong_downtrend_sell**: 0.45（45%の条件適合度）

**すべて70%未満**のため、現在シグナルは生成されていません。

---

## 6. データ品質管理

### 6.1 品質スコア計算（5要素）

#### 6.1.1 データ完全性（1.0点）
- 必要な列（open, high, low, close, volume）がすべて存在

#### 6.1.2 欠損値スコア（1.0点）
- 欠損値なし（0/1548セル）

#### 6.1.3 価格妥当性（1.0点）
- 無効価格（0以下）なし

#### 6.1.4 高値・安値妥当性（1.0点）
- **修正済み**: 29件の矛盾データを修正
- 高値・安値の論理的整合性を確保

#### 6.1.5 データ密度（1.0点）
- 期待データ数に対して十分なデータ量

### 6.2 現在の品質スコア
- **1d足**: 1.00（完璧）
- **4h足**: 1.00（完璧）

---

## 7. 改善提案

### 7.1 パターン検出の強化

#### 7.1.1 追加パターン
```yaml
# 新規追加候補
patterns:
  - name: "double_bottom"
    description: "ダブルボトム"
    conditions:
      - "price_touches_support_twice"
      - "RSI_divergence"
      - "volume_confirmation"
  
  - name: "head_and_shoulders"
    description: "ヘッドアンドショルダー"
    conditions:
      - "three_peaks_pattern"
      - "neckline_break"
      - "volume_decline"
  
  - name: "flag_pattern"
    description: "フラッグパターン"
    conditions:
      - "strong_trend_preceding"
      - "consolidation_phase"
      - "volume_breakout"
```

#### 7.1.2 マルチタイムフレーム分析
```python
# 複数時間足での確認
multi_timeframe_confirmation = {
    "trend_alignment": "D1とH4のトレンド方向一致",
    "momentum_confirmation": "H1とM5のモメンタム確認",
    "volume_analysis": "全時間足でのボリューム分析"
}
```

### 7.2 スコア計算の改善

#### 7.2.1 動的重み付け
```python
# 市場状況に応じた重み調整
dynamic_weights = {
    "trending_market": {"trend_indicators": 0.4, "momentum": 0.3, "volume": 0.3},
    "ranging_market": {"support_resistance": 0.4, "oscillators": 0.4, "volume": 0.2},
    "volatile_market": {"volatility": 0.3, "trend": 0.3, "risk_management": 0.4}
}
```

#### 7.2.2 確率ベーススコア
```python
# 過去のパフォーマンスに基づく確率計算
probability_score = {
    "historical_accuracy": 0.7,  # 過去の精度
    "current_conditions": 0.2,   # 現在の市場状況
    "risk_adjustment": 0.1       # リスク調整
}
```

### 7.3 機械学習統合

#### 7.3.1 パターン認識AI
```python
# 深層学習によるパターン認識
ml_pattern_detection = {
    "cnn_models": "チャートパターンの画像認識",
    "lstm_models": "時系列データの予測",
    "ensemble_methods": "複数モデルの統合"
}
```

#### 7.3.2 適応的パラメータ調整
```python
# 市場状況に応じた自動パラメータ調整
adaptive_parameters = {
    "rsi_threshold": "市場ボラティリティに応じて調整",
    "ema_periods": "トレンド強度に応じて調整",
    "atr_multipliers": "リスク許容度に応じて調整"
}
```

---

## 8. 実装計画

### 8.1 Phase 1: 基本改善（1-2週間）
- [ ] 追加パターンの実装
- [ ] スコア計算の最適化
- [ ] マルチタイムフレーム確認の強化

### 8.2 Phase 2: 高度な機能（2-4週間）
- [ ] 動的重み付けシステム
- [ ] 確率ベーススコア計算
- [ ] パフォーマンス分析機能

### 8.3 Phase 3: AI統合（1-2ヶ月）
- [ ] 機械学習モデルの統合
- [ ] 適応的パラメータ調整
- [ ] 予測精度の向上

### 8.4 Phase 4: 最適化（継続）
- [ ] バックテスト機能の強化
- [ ] リアルタイム最適化
- [ ] パフォーマンス監視

---

## 9. 現在の運用状況

### 9.1 システム状況
- ✅ **データ収集**: 5分間隔で正常動作
- ✅ **テクニカル分析**: イベント駆動で自動実行
- ✅ **ルールエンジン**: 5つのアクティブルールで判定
- ✅ **データ品質**: 1.00の完璧な品質スコア
- ✅ **イベント処理**: 待機中イベントなし

### 9.2 パフォーマンス指標
- **データ更新頻度**: 5分間隔
- **分析実行時間**: 約1-2秒
- **スコア計算精度**: 0-1の正規化済み
- **システム可用性**: 99.9%以上

### 9.3 今後の課題
- **シグナル生成率**: 現在0%（条件が厳しすぎる可能性）
- **パターン多様性**: 5つのパターンのみ
- **適応性**: 市場状況に応じた動的調整が必要

---

**文書管理情報**

- 文書ID: PATTERN-DETECTION-SPEC-001
- バージョン: v1.0
- 作成日: 2025-09-18
- 最終更新: 2025-09-18
- 承認者: [システム設計者]
- 次回レビュー予定: 2025-10-18
