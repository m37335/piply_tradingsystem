**æ—§ãƒ•ã‚¡ã‚¤ãƒ«å**: `ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºå®Ÿè£…è¨ˆç”»æ›¸_phase2.md`  

# ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºå®Ÿè£…è¨ˆç”»æ›¸\_phase2 - ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ 10-12ï¼‰

## ğŸ“‹ Phase 2 æ¦‚è¦

### ç›®çš„

- ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ 10-12ï¼‰ã®å®Ÿè£…
- Phase 1 ã§å®Ÿè£…ã—ãŸãƒ­ãƒ¼ã‚½ã‚¯è¶³ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŠ ãˆã¦ã€ã‚ˆã‚Šé«˜åº¦ãªãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿½åŠ 
- å„ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…å¾Œã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€Git æ›´æ–°ã€GitHub åŒæœŸã®è‡ªå‹•åŒ–

### å®Ÿè£…æœŸé–“

- **æœŸé–“**: 2-3 é€±é–“
- **å¯¾è±¡ãƒ‘ã‚¿ãƒ¼ãƒ³**: ãƒ‘ã‚¿ãƒ¼ãƒ³ 10ï¼ˆãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ ï¼‰ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ 11ï¼ˆãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ ï¼‰ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ 12ï¼ˆãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

### å®Ÿè£…æ–¹é‡

- æ®µéšçš„å®Ÿè£…ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ 10 â†’ ãƒ‘ã‚¿ãƒ¼ãƒ³ 11 â†’ ãƒ‘ã‚¿ãƒ¼ãƒ³ 12ï¼‰
- å„ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…å¾Œã®å³åº§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã®è‡ªå‹•åŒ–
- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ

---

## ğŸ—ï¸ ãƒ‘ã‚¿ãƒ¼ãƒ³ 10: ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡º

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

- **ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `src/infrastructure/analysis/pattern_detectors/double_top_bottom_detector.py`
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/unit/test_double_top_bottom_detector.py`
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: `tests/integration/test_phase2_patterns.py`

### ã‚¯ãƒ©ã‚¹æ§‹é€ 

```python
class DoubleTopBottomDetector:
    def __init__(self):
        self.pattern = NotificationPattern.create_pattern_10()
        self.utils = PatternUtils()
        self.min_peak_distance = 5  # ãƒ”ãƒ¼ã‚¯é–“ã®æœ€å°è·é›¢
        self.peak_tolerance = 0.02  # ãƒ”ãƒ¼ã‚¯ã®è¨±å®¹èª¤å·®ï¼ˆ2%ï¼‰
        self.neckline_tolerance = 0.01  # ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒ³ã®è¨±å®¹èª¤å·®ï¼ˆ1%ï¼‰

    def detect(self, price_data: pd.DataFrame) -> Optional[Dict[str, Any]]:
        """ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º"""
        pass

    def _detect_double_top(self, price_data: pd.DataFrame) -> bool:
        """ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—æ¤œå‡º"""
        pass

    def _detect_double_bottom(self, price_data: pd.DataFrame) -> bool:
        """ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ æ¤œå‡º"""
        pass

    def _find_peaks(self, price_data: pd.DataFrame, window: int = 5) -> List[int]:
        """ãƒ”ãƒ¼ã‚¯æ¤œå‡º"""
        pass

    def _validate_neckline(self, price_data: pd.DataFrame, peaks: List[int]) -> bool:
        """ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒ³æ¤œè¨¼"""
        pass

    def _calculate_pattern_confidence(self, pattern_data: Dict) -> float:
        """ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿¡é ¼åº¦è¨ˆç®—"""
        pass
```

### å®Ÿè£…ã‚¿ã‚¹ã‚¯

- [ ] ã‚¯ãƒ©ã‚¹å®šç¾©ã¨ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
- [ ] ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
- [ ] ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
- [ ] ãƒ”ãƒ¼ã‚¯æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- [ ] ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒ³æ¤œè¨¼
- [ ] ä¿¡é ¼åº¦è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥

### ãƒ‘ã‚¿ãƒ¼ãƒ³ç‰¹å¾´

- **ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—**: 2 ã¤ã®é«˜å€¤ãŒã»ã¼åŒã˜ãƒ¬ãƒ™ãƒ«ã§å½¢æˆã•ã‚Œã‚‹å£²ã‚Šã‚·ã‚°ãƒŠãƒ«
- **ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ **: 2 ã¤ã®å®‰å€¤ãŒã»ã¼åŒã˜ãƒ¬ãƒ™ãƒ«ã§å½¢æˆã•ã‚Œã‚‹è²·ã„ã‚·ã‚°ãƒŠãƒ«
- **ä¿¡é ¼åº¦**: 80-85%
- **å®Ÿè£…é›£æ˜“åº¦**: ä¸­
- **å„ªå…ˆåº¦**: HIGH (80)

---

## ğŸ—ï¸ ãƒ‘ã‚¿ãƒ¼ãƒ³ 11: ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡º

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

- **ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `src/infrastructure/analysis/pattern_detectors/triple_top_bottom_detector.py`
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/unit/test_triple_top_bottom_detector.py`

### ã‚¯ãƒ©ã‚¹æ§‹é€ 

```python
class TripleTopBottomDetector:
    def __init__(self):
        self.pattern = NotificationPattern.create_pattern_11()
        self.utils = PatternUtils()
        self.min_peak_distance = 5  # ãƒ”ãƒ¼ã‚¯é–“ã®æœ€å°è·é›¢
        self.peak_tolerance = 0.015  # ãƒ”ãƒ¼ã‚¯ã®è¨±å®¹èª¤å·®ï¼ˆ1.5%ï¼‰
        self.neckline_tolerance = 0.008  # ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒ³ã®è¨±å®¹èª¤å·®ï¼ˆ0.8%ï¼‰

    def detect(self, price_data: pd.DataFrame) -> Optional[Dict[str, Any]]:
        """ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º"""
        pass

    def _detect_triple_top(self, price_data: pd.DataFrame) -> bool:
        """ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—æ¤œå‡º"""
        pass

    def _detect_triple_bottom(self, price_data: pd.DataFrame) -> bool:
        """ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ æ¤œå‡º"""
        pass

    def _find_three_peaks(self, price_data: pd.DataFrame, window: int = 5) -> List[int]:
        """3ã¤ã®ãƒ”ãƒ¼ã‚¯æ¤œå‡º"""
        pass

    def _validate_triple_pattern(self, price_data: pd.DataFrame, peaks: List[int]) -> bool:
        """ãƒˆãƒªãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œè¨¼"""
        pass

    def _calculate_triple_confidence(self, pattern_data: Dict) -> float:
        """ãƒˆãƒªãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿¡é ¼åº¦è¨ˆç®—"""
        pass
```

### å®Ÿè£…ã‚¿ã‚¹ã‚¯

- [ ] ã‚¯ãƒ©ã‚¹å®šç¾©ã¨ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
- [ ] ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
- [ ] ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
- [ ] 3 ã¤ã®ãƒ”ãƒ¼ã‚¯æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- [ ] ãƒˆãƒªãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œè¨¼
- [ ] ä¿¡é ¼åº¦è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥

### ãƒ‘ã‚¿ãƒ¼ãƒ³ç‰¹å¾´

- **ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—**: 3 ã¤ã®é«˜å€¤ãŒã»ã¼åŒã˜ãƒ¬ãƒ™ãƒ«ã§å½¢æˆã•ã‚Œã‚‹å¼·åŠ›ãªå£²ã‚Šã‚·ã‚°ãƒŠãƒ«
- **ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ **: 3 ã¤ã®å®‰å€¤ãŒã»ã¼åŒã˜ãƒ¬ãƒ™ãƒ«ã§å½¢æˆã•ã‚Œã‚‹å¼·åŠ›ãªè²·ã„ã‚·ã‚°ãƒŠãƒ«
- **ä¿¡é ¼åº¦**: 85-90%
- **å®Ÿè£…é›£æ˜“åº¦**: ä¸­
- **å„ªå…ˆåº¦**: HIGH (85)

---

## ğŸ—ï¸ ãƒ‘ã‚¿ãƒ¼ãƒ³ 12: ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

- **ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `src/infrastructure/analysis/pattern_detectors/flag_pattern_detector.py`
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/unit/test_flag_pattern_detector.py`

### ã‚¯ãƒ©ã‚¹æ§‹é€ 

```python
class FlagPatternDetector:
    def __init__(self):
        self.pattern = NotificationPattern.create_pattern_12()
        self.utils = PatternUtils()
        self.min_flag_length = 3  # ãƒ•ãƒ©ãƒƒã‚°ã®æœ€å°é•·ã•
        self.max_flag_length = 15  # ãƒ•ãƒ©ãƒƒã‚°ã®æœ€å¤§é•·ã•
        self.flag_angle_tolerance = 30  # ãƒ•ãƒ©ãƒƒã‚°è§’åº¦ã®è¨±å®¹èª¤å·®ï¼ˆåº¦ï¼‰

    def detect(self, price_data: pd.DataFrame) -> Optional[Dict[str, Any]]:
        """ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º"""
        pass

    def _detect_bull_flag(self, price_data: pd.DataFrame) -> bool:
        """ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°æ¤œå‡º"""
        pass

    def _detect_bear_flag(self, price_data: pd.DataFrame) -> bool:
        """ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°æ¤œå‡º"""
        pass

    def _identify_flagpole(self, price_data: pd.DataFrame) -> Dict[str, Any]:
        """ãƒ•ãƒ©ãƒƒã‚°ãƒãƒ¼ãƒ«è­˜åˆ¥"""
        pass

    def _identify_flag(self, price_data: pd.DataFrame, pole_end: int) -> Dict[str, Any]:
        """ãƒ•ãƒ©ãƒƒã‚°è­˜åˆ¥"""
        pass

    def _validate_flag_breakout(self, price_data: pd.DataFrame, flag_data: Dict) -> bool:
        """ãƒ•ãƒ©ãƒƒã‚°ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆæ¤œè¨¼"""
        pass

    def _calculate_flag_confidence(self, pattern_data: Dict) -> float:
        """ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ä¿¡é ¼åº¦è¨ˆç®—"""
        pass
```

### å®Ÿè£…ã‚¿ã‚¹ã‚¯

- [ ] ã‚¯ãƒ©ã‚¹å®šç¾©ã¨ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
- [ ] ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
- [ ] ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
- [ ] ãƒ•ãƒ©ãƒƒã‚°ãƒãƒ¼ãƒ«è­˜åˆ¥
- [ ] ãƒ•ãƒ©ãƒƒã‚°è­˜åˆ¥
- [ ] ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆæ¤œè¨¼
- [ ] ä¿¡é ¼åº¦è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥

### ãƒ‘ã‚¿ãƒ¼ãƒ³ç‰¹å¾´

- **ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°**: ä¸Šæ˜‡ãƒˆãƒ¬ãƒ³ãƒ‰å¾Œã®ä¸€æ™‚çš„ãªèª¿æ•´ï¼ˆè²·ã„ã‚·ã‚°ãƒŠãƒ«ï¼‰
- **ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°**: ä¸‹é™ãƒˆãƒ¬ãƒ³ãƒ‰å¾Œã®ä¸€æ™‚çš„ãªèª¿æ•´ï¼ˆå£²ã‚Šã‚·ã‚°ãƒŠãƒ«ï¼‰
- **ä¿¡é ¼åº¦**: 75-80%
- **å®Ÿè£…é›£æ˜“åº¦**: é«˜
- **å„ªå…ˆåº¦**: MEDIUM (75)

---

## ğŸ”§ å…±é€šå®Ÿè£…ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### 1. ãƒ‘ã‚¿ãƒ¼ãƒ³å®šç¾©æ›´æ–°

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/domain/entities/notification_pattern.py`

```python
@classmethod
def create_pattern_10(cls) -> "NotificationPattern":
    """ãƒ‘ã‚¿ãƒ¼ãƒ³10: ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡ºã‚’ä½œæˆ"""
    return cls(
        pattern_number=10,
        name="ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡º",
        description="2ã¤ã®é«˜å€¤/å®‰å€¤ãŒåŒã˜ãƒ¬ãƒ™ãƒ«ã§å½¢æˆã•ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³",
        priority=PatternPriority.HIGH,
        conditions={
            "D1": ["ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—", "ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ "],
            "H4": ["ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—", "ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ "],
            "H1": ["ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—", "ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ "],
            "M5": ["ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—", "ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ "],
        },
        notification_title="ğŸ”„ ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º",
        notification_color="0x4ECDC4",
        take_profit="+100pips",
        stop_loss="-50pips",
        confidence="é«˜ï¼ˆ80-85%ï¼‰",
    )

@classmethod
def create_pattern_11(cls) -> "NotificationPattern":
    """ãƒ‘ã‚¿ãƒ¼ãƒ³11: ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡ºã‚’ä½œæˆ"""
    return cls(
        pattern_number=11,
        name="ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡º",
        description="3ã¤ã®é«˜å€¤/å®‰å€¤ãŒåŒã˜ãƒ¬ãƒ™ãƒ«ã§å½¢æˆã•ã‚Œã‚‹å¼·åŠ›ãªãƒ‘ã‚¿ãƒ¼ãƒ³",
        priority=PatternPriority.HIGH,
        conditions={
            "D1": ["ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—", "ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ "],
            "H4": ["ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—", "ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ "],
            "H1": ["ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—", "ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ "],
            "M5": ["ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—", "ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ "],
        },
        notification_title="ğŸ”„ ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º",
        notification_color="0xFF6B6B",
        take_profit="+120pips",
        stop_loss="-60pips",
        confidence="é«˜ï¼ˆ85-90%ï¼‰",
    )

@classmethod
def create_pattern_12(cls) -> "NotificationPattern":
    """ãƒ‘ã‚¿ãƒ¼ãƒ³12: ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºã‚’ä½œæˆ"""
    return cls(
        pattern_number=12,
        name="ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º",
        description="ãƒˆãƒ¬ãƒ³ãƒ‰ç¶™ç¶šã‚’ç¤ºã™ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³",
        priority=PatternPriority.MEDIUM,
        conditions={
            "D1": ["ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°", "ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°"],
            "H4": ["ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°", "ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°"],
            "H1": ["ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°", "ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°"],
            "M5": ["ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°", "ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°"],
        },
        notification_title="ğŸ”„ ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º",
        notification_color="0x45B7D1",
        take_profit="+80pips",
        stop_loss="-40pips",
        confidence="ä¸­ï¼ˆ75-80%ï¼‰",
    )
```

### 2. åˆ†æã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆ

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/infrastructure/analysis/notification_pattern_analyzer.py`

```python
from .pattern_detectors.double_top_bottom_detector import DoubleTopBottomDetector
from .pattern_detectors.triple_top_bottom_detector import TripleTopBottomDetector
from .pattern_detectors.flag_pattern_detector import FlagPatternDetector

def __init__(self):
    # æ—¢å­˜ã®æ¤œå‡ºå™¨
    self.detectors = {
        # ... æ—¢å­˜ã®æ¤œå‡ºå™¨ ...

        # Phase 2 æ–°è¦æ¤œå‡ºå™¨
        "DoubleTopBottomDetector": DoubleTopBottomDetector(),
        "TripleTopBottomDetector": TripleTopBottomDetector(),
        "FlagPatternDetector": FlagPatternDetector(),
    }

    # ãƒ‘ã‚¿ãƒ¼ãƒ³å®šç¾©
    self.patterns = {
        # ... æ—¢å­˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ ...

        # Phase 2 æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³
        10: NotificationPattern.create_pattern_10(),
        11: NotificationPattern.create_pattern_11(),
        12: NotificationPattern.create_pattern_12(),
    }
```

### 3. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆæœŸåŒ–æ›´æ–°

#### ãƒ•ã‚¡ã‚¤ãƒ«: `src/infrastructure/analysis/pattern_detectors/__init__.py`

```python
"""
ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºå™¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

12å€‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºå™¨ã‚’æä¾›
"""

from .double_top_bottom_detector import DoubleTopBottomDetector
from .triple_top_bottom_detector import TripleTopBottomDetector
from .flag_pattern_detector import FlagPatternDetector

__all__ = [
    # æ—¢å­˜ã®æ¤œå‡ºå™¨
    "EngulfingPatternDetector",
    "RedThreeSoldiersDetector",
    "MarubozuDetector",

    # Phase 2 æ–°è¦æ¤œå‡ºå™¨
    "DoubleTopBottomDetector",
    "TripleTopBottomDetector",
    "FlagPatternDetector",
]
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### å˜ä½“ãƒ†ã‚¹ãƒˆ

#### ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡ºå™¨ãƒ†ã‚¹ãƒˆ

- ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ãƒ€ãƒ–ãƒ«ãƒœãƒˆãƒ æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ãƒ”ãƒ¼ã‚¯æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ†ã‚¹ãƒˆ
- ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒ³æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
- ä¿¡é ¼åº¦è¨ˆç®—ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ

#### ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡ºå™¨ãƒ†ã‚¹ãƒˆ

- ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ãƒˆãƒªãƒ—ãƒ«ãƒœãƒˆãƒ æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- 3 ã¤ã®ãƒ”ãƒ¼ã‚¯æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ãƒˆãƒªãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
- ä¿¡é ¼åº¦è¨ˆç®—ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ

#### ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºå™¨ãƒ†ã‚¹ãƒˆ

- ãƒ–ãƒ«ãƒ•ãƒ©ãƒƒã‚°æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ãƒ™ã‚¢ãƒ•ãƒ©ãƒƒã‚°æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ãƒ•ãƒ©ãƒƒã‚°ãƒãƒ¼ãƒ«è­˜åˆ¥ãƒ†ã‚¹ãƒˆ
- ãƒ•ãƒ©ãƒƒã‚°è­˜åˆ¥ãƒ†ã‚¹ãƒˆ
- ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆæ¤œè¨¼ãƒ†ã‚¹ãƒˆ
- ä¿¡é ¼åº¦è¨ˆç®—ãƒ†ã‚¹ãƒˆ

### çµ±åˆãƒ†ã‚¹ãƒˆ

#### Phase 2 çµ±åˆãƒ†ã‚¹ãƒˆ

- å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®çµ±åˆãƒ†ã‚¹ãƒˆ
- æ¤œå‡ºå™¨ã®çŠ¶æ…‹ç¢ºèª
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

---

## ğŸš€ è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### 1. Phase 2 è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

#### ãƒ•ã‚¡ã‚¤ãƒ«: `scripts/run_phase2.py`

```python
PHASE2_PATTERNS = [10, 11, 12]

PATTERN_INFO = {
    10: {
        "name": "ãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡º",
        "detector_file": "src/infrastructure/analysis/pattern_detectors/double_top_bottom_detector.py",
        "test_file": "tests/unit/test_double_top_bottom_detector.py",
        "class_name": "DoubleTopBottomDetector"
    },
    11: {
        "name": "ãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡º",
        "detector_file": "src/infrastructure/analysis/pattern_detectors/triple_top_bottom_detector.py",
        "test_file": "tests/unit/test_triple_top_bottom_detector.py",
        "class_name": "TripleTopBottomDetector"
    },
    12: {
        "name": "ãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º",
        "detector_file": "src/infrastructure/analysis/pattern_detectors/flag_pattern_detector.py",
        "test_file": "tests/unit/test_flag_pattern_detector.py",
        "class_name": "FlagPatternDetector"
    }
}

def run_phase2():
    """Phase 2 å®Ÿè¡Œ"""
    for pattern in PHASE2_PATTERNS:
        implement_phase2_pattern(pattern)
    run_phase2_integration_test()
```

---

## ğŸ“Š å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Week 1

- ãƒ‘ã‚¿ãƒ¼ãƒ³ 10 å®Ÿè£…ï¼ˆãƒ€ãƒ–ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡ºï¼‰
- ãƒ‘ã‚¿ãƒ¼ãƒ³ 11 å®Ÿè£…ï¼ˆãƒˆãƒªãƒ—ãƒ«ãƒˆãƒƒãƒ—/ãƒœãƒˆãƒ æ¤œå‡ºï¼‰
- å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å˜ä½“ãƒ†ã‚¹ãƒˆ

### Week 2

- ãƒ‘ã‚¿ãƒ¼ãƒ³ 12 å®Ÿè£…ï¼ˆãƒ•ãƒ©ãƒƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºï¼‰
- Phase 2 çµ±åˆãƒ†ã‚¹ãƒˆ
- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ

### Week 3

- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- é‹ç”¨ç’°å¢ƒã§ã®æ¤œè¨¼

---

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™

- **å˜ä½“ãƒ†ã‚¹ãƒˆé€šéç‡**: 100%
- **çµ±åˆãƒ†ã‚¹ãƒˆé€šéç‡**: 100%
- **ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸**: 90%ä»¥ä¸Š
- **æ€§èƒ½åŠ£åŒ–**: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã® 5%ä»¥å†…

### å“è³ªæŒ‡æ¨™

- **ãƒã‚°ç‡**: 1%ä»¥ä¸‹
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼é€šéç‡**: 100%
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œæˆåº¦**: 100%

### é‹ç”¨æŒ‡æ¨™

- **é€šçŸ¥ç²¾åº¦å‘ä¸Š**: æ—¢å­˜æ¯” 20%å‘ä¸Š
- **ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§**: 99.9%ç¨¼åƒç‡ç¶­æŒ
- **é–‹ç™ºåŠ¹ç‡**: è‡ªå‹•åŒ–ã«ã‚ˆã‚Š 70%å‘ä¸Š

---

## âš ï¸ ãƒªã‚¹ã‚¯ç®¡ç†

### æŠ€è¡“ãƒªã‚¹ã‚¯

- **è¤‡é›‘æ€§**: ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºã®è¤‡é›‘æ€§
  - **å¯¾ç­–**: æ®µéšçš„å®Ÿè£…ã¨ååˆ†ãªãƒ†ã‚¹ãƒˆ
- **æ€§èƒ½å½±éŸ¿**: è¤‡é›‘ãªãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºã«ã‚ˆã‚‹æ€§èƒ½åŠ£åŒ–
  - **å¯¾ç­–**: åŠ¹ç‡çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…

### é‹ç”¨ãƒªã‚¹ã‚¯

- **å½ã‚·ã‚°ãƒŠãƒ«**: ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å½ã‚·ã‚°ãƒŠãƒ«
  - **å¯¾ç­–**: ä¿¡é ¼åº¦é–¾å€¤ã®èª¿æ•´ã¨è¤‡æ•°æ¡ä»¶ã®çµ„ã¿åˆã‚ã›
- **æ¤œå‡ºé…å»¶**: è¤‡é›‘ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹æ¤œå‡ºé…å»¶
  - **å¯¾ç­–**: æœ€é©åŒ–ã•ã‚ŒãŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Phase 2 é–‹å§‹**: ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…é–‹å§‹
2. **è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆæº–å‚™**: Phase 2 ç”¨è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
3. **ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰**: æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œè¨¼ç’°å¢ƒæº–å‚™
4. **ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ å¼·åŒ–**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã®å¼·åŒ–
5. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**: å®Ÿè£…çŠ¶æ³ã®ç¶™ç¶šçš„æ›´æ–°
6. **Phase 3 æº–å‚™**: é«˜åº¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…ã®æº–å‚™

---

**ä½œæˆæ—¥**: 2025 å¹´ 8 æœˆ 11 æ—¥
**ä½œæˆè€…**: AI Assistant
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ“‹ **è¨ˆç”»ä¸­**
