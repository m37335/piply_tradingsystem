# ãƒ‰ãƒ«å†† AI åˆ†æ Discord ãƒœãƒƒãƒˆè¨­è¨ˆæ›¸

## ğŸ“‹ æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå

**USD/JPY AI Analysis Discord Bot**

### ç›®çš„

Discord ã‚µãƒ¼ãƒãƒ¼å†…ã§ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚³ãƒãƒ³ãƒ‰ï¼ˆ`#usdjpy`ã€`#analyze`ç­‰ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ‰ãƒ«å††ã® AI åˆ†æã‚’å®Ÿè¡Œã—ã€çµæœã‚’ Discord ãƒãƒ£ãƒ³ãƒãƒ«ã«é…ä¿¡ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ 

### ä¸»è¦æ©Ÿèƒ½

- ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚‹åˆ†æå®Ÿè¡Œ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šè²¨ç›¸é–¢åˆ†æ
- ãƒãƒ«ãƒã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æ
- AI çµ±åˆæˆ¦ç•¥åˆ†æ
- åˆ†æçµæœã® Discord é…ä¿¡
- åˆ†æå±¥æ­´ç®¡ç†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ç®¡ç†

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Discord Bot   â”‚    â”‚  Analysis API   â”‚    â”‚  Database       â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ ã‚³ãƒãƒ³ãƒ‰å—ä¿¡  â”‚â—„â”€â”€â–ºâ”‚ â€¢ é€šè²¨ç›¸é–¢åˆ†æ  â”‚â—„â”€â”€â–ºâ”‚ â€¢ åˆ†æå±¥æ­´      â”‚
â”‚ â€¢ ãƒ¬ã‚¹ãƒãƒ³ã‚¹    â”‚    â”‚ â€¢ ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æâ”‚    â”‚ â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†  â”‚
â”‚ â€¢ æ¨©é™ç®¡ç†      â”‚    â”‚ â€¢ AIåˆ†æç”Ÿæˆ    â”‚    â”‚ â€¢ çµ±è¨ˆæƒ…å ±      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
         â”‚              â”‚  External APIs  â”‚              â”‚
         â”‚              â”‚                 â”‚              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ â€¢ Yahoo Financeâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ â€¢ OpenAI API   â”‚
                        â”‚ â€¢ Discord API  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ

1. **Presentation Layer**: Discord Bot Interface
2. **Application Layer**: Command Handler, Analysis Orchestrator
3. **Domain Layer**: Analysis Services, Business Logic
4. **Infrastructure Layer**: External APIs, Database, Cache

## ğŸ”§ æŠ€è¡“ä»•æ§˜

### ä½¿ç”¨æŠ€è¡“

- **è¨€èª**: Python 3.11+
- **Discord Bot**: discord.py
- **Web Framework**: FastAPI (API ç”¨)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL + SQLAlchemy
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis
- **å¤–éƒ¨ API**: Yahoo Finance, OpenAI GPT-4
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker + Docker Compose

### é–‹ç™ºç’°å¢ƒ

- **OS**: Linux (Ubuntu 20.04+)
- **Python**: 3.11+
- **ä¾å­˜ç®¡ç†**: Poetry
- **ãƒ†ã‚¹ãƒˆ**: pytest
- **CI/CD**: GitHub Actions

## ğŸ“ æ©Ÿèƒ½ä»•æ§˜

### 1. ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚³ãƒãƒ³ãƒ‰æ©Ÿèƒ½

#### å¯¾å¿œã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰    | èª¬æ˜           | æ¨©é™   | ä¾‹          |
| ----------- | -------------- | ------ | ----------- |
| `#usdjpy`   | åŸºæœ¬ãƒ‰ãƒ«å††åˆ†æ | å…¨å“¡   | `#usdjpy`   |
| `#analyze`  | è©³ç´°åˆ†æ       | å…¨å“¡   | `#analyze`  |
| `#forecast` | äºˆæ¸¬åˆ†æ       | å…¨å“¡   | `#forecast` |
| `#stats`    | çµ±è¨ˆæƒ…å ±       | ç®¡ç†è€… | `#stats`    |
| `#help`     | ãƒ˜ãƒ«ãƒ—è¡¨ç¤º     | å…¨å“¡   | `#help`     |

#### ã‚³ãƒãƒ³ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
#usdjpy [timeframe] [detail]
#analyze [currency] [timeframe] [options]
#forecast [period] [confidence]
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»•æ§˜

- **timeframe**: `5m`, `1h`, `4h`, `1d` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `1h`)
- **detail**: `basic`, `full`, `expert` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `basic`)
- **currency**: `USDJPY`, `EURUSD`, `GBPUSD` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `USDJPY`)
- **period**: `1h`, `4h`, `1d`, `1w` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `1d`)
- **confidence**: `low`, `medium`, `high` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `medium`)

### 2. åˆ†ææ©Ÿèƒ½

#### é€šè²¨ç›¸é–¢åˆ†æ

- **å¯¾è±¡é€šè²¨ãƒšã‚¢**: USD/JPY, EUR/USD, GBP/USD, EUR/JPY, GBP/JPY
- **åˆ†æé …ç›®**:
  - é€šè²¨å¼·å¼±åˆ†æ
  - ç›¸é–¢æ€§åˆ†æ
  - çµ±åˆäºˆæ¸¬
  - ä¿¡é ¼åº¦è©•ä¾¡

#### ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æ

- **æ™‚é–“è»¸**: 5 åˆ†ã€1 æ™‚é–“ã€4 æ™‚é–“ã€æ—¥è¶³
- **æŒ‡æ¨™**:
  - RSI (30, 50, 70 æœŸé–“)
  - MACD
  - ãƒœãƒªãƒ³ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ‰
  - ç§»å‹•å¹³å‡ç·š (20, 50, 200 æœŸé–“)

#### AI çµ±åˆåˆ†æ

- **åˆ†æå†…å®¹**:
  - ç›¸é–¢åˆ†æçµæœ
  - ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™çµ±åˆ
  - å£²è²·ã‚·ãƒŠãƒªã‚ªç”Ÿæˆ
  - ãƒªã‚¹ã‚¯ç®¡ç†æŒ‡é‡
- **å‡ºåŠ›å½¢å¼**: æ§‹é€ åŒ–ã•ã‚ŒãŸæˆ¦ç•¥ãƒ¬ãƒãƒ¼ãƒˆ

### 3. Discord é…ä¿¡æ©Ÿèƒ½

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼

```json
{
  "embeds": [
    {
      "title": "ğŸ¯ USD/JPY AI Analysis",
      "color": 0x00ff00,
      "fields": [
        {
          "name": "ğŸ“Š Current Rate",
          "value": "148.384 (+0.19%)",
          "inline": true
        },
        {
          "name": "ğŸ¯ Strategy",
          "value": "LONG (90% confidence)",
          "inline": true
        }
      ],
      "description": "AI analysis content...",
      "footer": {
        "text": "Generated at 2025-08-12 12:35 JST"
      }
    }
  ]
}
```

#### è‰²åˆ†ã‘ãƒ«ãƒ¼ãƒ«

- **ç·‘è‰² (0x00FF00)**: LONG æˆ¦ç•¥
- **èµ¤è‰² (0xFF0000)**: SHORT æˆ¦ç•¥
- **é»„è‰² (0xFFFF00)**: NEUTRAL æˆ¦ç•¥
- **é’è‰² (0x0000FF)**: ã‚¨ãƒ©ãƒ¼ãƒ»è­¦å‘Š

### 4. æ¨©é™ç®¡ç†æ©Ÿèƒ½

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«

| ãƒ¬ãƒ™ãƒ«                 | æ¨©é™         | èª¬æ˜                         |
| ---------------------- | ------------ | ---------------------------- |
| **ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼**       | åŸºæœ¬åˆ†æå®Ÿè¡Œ | åŸºæœ¬çš„ãªåˆ†æã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨å¯èƒ½ |
| **ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼** | è©³ç´°åˆ†æ     | è©³ç´°åˆ†æã€å±¥æ­´ç¢ºèªå¯èƒ½       |
| **ç®¡ç†è€…**             | å…¨æ©Ÿèƒ½       | çµ±è¨ˆæƒ…å ±ã€è¨­å®šå¤‰æ›´å¯èƒ½       |
| **ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…**     | ã‚·ã‚¹ãƒ†ãƒ ç®¡ç† | ãƒœãƒƒãƒˆè¨­å®šã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹     |

#### ãƒ¬ãƒ¼ãƒˆåˆ¶é™

- **ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼**: 1 åˆ†é–“ã« 1 å›
- **ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼**: 1 åˆ†é–“ã« 3 å›
- **ç®¡ç†è€…**: 1 åˆ†é–“ã« 10 å›

## ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼

### 1. ã‚³ãƒãƒ³ãƒ‰å—ä¿¡ãƒ•ãƒ­ãƒ¼

```
1. Discordãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡
   â†“
2. ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚³ãƒãƒ³ãƒ‰æ¤œå‡º
   â†“
3. ã‚³ãƒãƒ³ãƒ‰è§£æãƒ»ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡º
   â†“
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ãƒã‚§ãƒƒã‚¯
   â†“
5. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒã‚§ãƒƒã‚¯
   â†“
6. åˆ†æå®Ÿè¡Œã‚­ãƒ¥ãƒ¼æŠ•å…¥
```

### 2. åˆ†æå®Ÿè¡Œãƒ•ãƒ­ãƒ¼

```
1. åˆ†æãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡
   â†“
2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯
   â†“
3. å¤–éƒ¨APIå‘¼ã³å‡ºã—
   â”œâ”€ Yahoo Finance (ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿)
   â”œâ”€ é€šè²¨ç›¸é–¢åˆ†æ
   â””â”€ ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™è¨ˆç®—
   â†“
4. AIåˆ†æç”Ÿæˆ (OpenAI API)
   â†“
5. çµæœãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
   â†“
6. Discordé…ä¿¡
   â†“
7. å±¥æ­´ä¿å­˜
```

### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ•ãƒ­ãƒ¼

```
1. ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
   â†“
2. ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—åˆ¤å®š
   â”œâ”€ APIåˆ¶é™ã‚¨ãƒ©ãƒ¼
   â”œâ”€ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼
   â”œâ”€ æ¨©é™ã‚¨ãƒ©ãƒ¼
   â””â”€ ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼
   â†“
3. é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
   â†“
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€šçŸ¥
   â†“
5. ãƒ­ã‚°è¨˜éŒ²
```

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ

#### 1. users

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    discord_id VARCHAR(20) UNIQUE NOT NULL,
    username VARCHAR(100) NOT NULL,
    user_level INTEGER DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_activity TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 2. analysis_requests

```sql
CREATE TABLE analysis_requests (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    command VARCHAR(50) NOT NULL,
    parameters JSONB,
    status VARCHAR(20) DEFAULT 'pending',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP,
    result_data JSONB
);
```

#### 3. analysis_results

```sql
CREATE TABLE analysis_results (
    id SERIAL PRIMARY KEY,
    request_id INTEGER REFERENCES analysis_requests(id),
    currency_pair VARCHAR(10) NOT NULL,
    analysis_type VARCHAR(50) NOT NULL,
    result_data JSONB NOT NULL,
    confidence_score FLOAT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 4. user_limits

```sql
CREATE TABLE user_limits (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    command_type VARCHAR(50) NOT NULL,
    last_executed TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    execution_count INTEGER DEFAULT 1
);
```

## ğŸ”§ å®Ÿè£…ä»•æ§˜

### 1. Discord Bot å®Ÿè£…

#### ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
discord_bot/
â”œâ”€â”€ main.py                 # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ bot/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ client.py          # Discord Bot Client
â”‚   â”œâ”€â”€ commands.py        # ã‚³ãƒãƒ³ãƒ‰ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ permissions.py     # æ¨©é™ç®¡ç†
â”‚   â””â”€â”€ responses.py       # ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ analysis_service.py # åˆ†æã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ cache_service.py   # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â””â”€â”€ rate_limit.py      # ãƒ¬ãƒ¼ãƒˆåˆ¶é™
â””â”€â”€ utils/
    â”œâ”€â”€ logger.py          # ãƒ­ã‚°æ©Ÿèƒ½
    â””â”€â”€ formatter.py       # ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ©Ÿèƒ½
```

#### ã‚³ãƒãƒ³ãƒ‰ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…ä¾‹

```python
class AnalysisCommands(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.analysis_service = AnalysisService()
        self.rate_limiter = RateLimiter()

    @commands.Cog.listener()
    async def on_message(self, message):
        if message.author.bot:
            return

        # ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚³ãƒãƒ³ãƒ‰æ¤œå‡º
        if message.content.startswith('#'):
            await self.handle_hashtag_command(message)

    async def handle_hashtag_command(self, message):
        command = self.parse_command(message.content)

        # æ¨©é™ãƒã‚§ãƒƒã‚¯
        if not await self.check_permissions(message.author, command):
            await message.channel.send("âŒ æ¨©é™ãŒä¸è¶³ã—ã¦ã„ã¾ã™")
            return

        # ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒã‚§ãƒƒã‚¯
        if not await self.rate_limiter.check_limit(message.author.id, command):
            await message.channel.send("â° ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã—ã¾ã—ãŸ")
            return

        # åˆ†æå®Ÿè¡Œ
        await self.execute_analysis(message, command)
```

### 2. API å®Ÿè£…

#### FastAPI å®Ÿè£…ä¾‹

```python
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel

app = FastAPI(title="USD/JPY Analysis API")

class AnalysisRequest(BaseModel):
    command: str
    parameters: dict
    user_id: str

@app.post("/api/v1/analyze")
async def analyze_currency(request: AnalysisRequest):
    try:
        # åˆ†æå®Ÿè¡Œ
        result = await analysis_service.execute(request)
        return {"status": "success", "data": result}
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))
```

### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

#### Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­è¨ˆ

```python
class CacheService:
    def __init__(self):
        self.redis = redis.Redis(host='localhost', port=6379, db=0)

    async def get_cached_analysis(self, key: str):
        return await self.redis.get(f"analysis:{key}")

    async def cache_analysis(self, key: str, data: dict, ttl: int = 300):
        await self.redis.setex(f"analysis:{key}", ttl, json.dumps(data))
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### Docker æ§‹æˆ

```yaml
# docker-compose.yml
version: "3.8"
services:
  discord-bot:
    build: ./discord_bot
    environment:
      - DISCORD_TOKEN=${DISCORD_TOKEN}
      - DATABASE_URL=${DATABASE_URL}
    depends_on:
      - postgres
      - redis

  analysis-api:
    build: ./api
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - REDIS_URL=${REDIS_URL}
    depends_on:
      - postgres
      - redis

  postgres:
    image: postgres:13
    environment:
      - POSTGRES_DB=usdjpy_analysis
      - POSTGRES_USER=${DB_USER}
      - POSTGRES_PASSWORD=${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:6-alpine
    volumes:
      - redis_data:/data

volumes:
  postgres_data:
  redis_data:
```

### ç’°å¢ƒå¤‰æ•°

```bash
# .env
DISCORD_TOKEN=your_discord_bot_token
DISCORD_GUILD_ID=your_guild_id
DATABASE_URL=postgresql://user:pass@postgres:5432/usdjpy_analysis
REDIS_URL=redis://redis:6379
OPENAI_API_KEY=your_openai_api_key
YAHOO_FINANCE_API_KEY=your_yahoo_api_key
```

## ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°

### ãƒ­ã‚°è¨­è¨ˆ

```python
import logging

# ãƒ­ã‚°è¨­å®š
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('discord_bot.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)
```

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹

- **ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ•°**: æ™‚é–“åˆ¥ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥
- **åˆ†ææˆåŠŸç‡**: ã‚¨ãƒ©ãƒ¼ç‡ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“
- **API ä½¿ç”¨é‡**: å¤–éƒ¨ API å‘¼ã³å‡ºã—å›æ•°
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### èªè¨¼ãƒ»èªå¯

- **Discord OAuth2**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- **JWT Token**: API èªè¨¼
- **Role-based Access Control**: æ¨©é™ç®¡ç†

### ãƒ‡ãƒ¼ã‚¿ä¿è­·

- **æš—å·åŒ–**: æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–
- **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
- **ç›£æŸ»ãƒ­ã‚°**: æ“ä½œå±¥æ­´ã®è¨˜éŒ²

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### æœ€é©åŒ–æˆ¦ç•¥

- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis ã«ã‚ˆã‚‹çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **éåŒæœŸå‡¦ç†**: åˆ†æå‡¦ç†ã®éåŒæœŸåŒ–
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: API åˆ¶é™ã®é©åˆ‡ãªç®¡ç†
- **è² è·åˆ†æ•£**: è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã®è² è·åˆ†æ•£

### ç›®æ¨™æ€§èƒ½

- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: 5 ç§’ä»¥å†…
- **åŒæ™‚æ¥ç¶šæ•°**: 1000 ãƒ¦ãƒ¼ã‚¶ãƒ¼
- **å¯ç”¨æ€§**: 99.9%

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

```python
# tests/
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ test_commands.py
â”‚   â”œâ”€â”€ test_analysis.py
â”‚   â””â”€â”€ test_permissions.py
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ test_discord_api.py
â”‚   â””â”€â”€ test_external_apis.py
â””â”€â”€ e2e/
    â””â”€â”€ test_full_flow.py
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
pytest tests/unit/

# çµ±åˆãƒ†ã‚¹ãƒˆ
pytest tests/integration/

# E2Eãƒ†ã‚¹ãƒˆ
pytest tests/e2e/
```

## ğŸ“… é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Phase 1: åŸºç›¤é–‹ç™º (2 é€±é–“)

- [ ] Discord Bot åŸºç›¤å®Ÿè£…
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»å®Ÿè£…
- [ ] åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…

### Phase 2: åˆ†ææ©Ÿèƒ½å®Ÿè£… (3 é€±é–“)

- [ ] é€šè²¨ç›¸é–¢åˆ†æçµ±åˆ
- [ ] ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æå®Ÿè£…
- [ ] AI åˆ†æç”Ÿæˆå®Ÿè£…

### Phase 3: UI/UX æ”¹å–„ (2 é€±é–“)

- [ ] Discord åŸ‹ã‚è¾¼ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ”¹å–„
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š

### Phase 4: é‹ç”¨æº–å‚™ (1 é€±é–“)

- [ ] ç›£è¦–ãƒ»ãƒ­ã‚°å®Ÿè£…
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™

- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: 5 ç§’ä»¥å†…
- **ã‚¨ãƒ©ãƒ¼ç‡**: 1%ä»¥ä¸‹
- **å¯ç”¨æ€§**: 99.9%

### ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™

- **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**: æœˆé–“ 1000 äºº
- **ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ•°**: æ—¥é–“ 1000 å›
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦**: 4.5/5.0

## ğŸ”„ ä»Šå¾Œã®æ‹¡å¼µ

### çŸ­æœŸæ‹¡å¼µ (3 ãƒ¶æœˆ)

- ä»–ã®é€šè²¨ãƒšã‚¢å¯¾å¿œ
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªé€£æº
- é€šçŸ¥æ©Ÿèƒ½å¼·åŒ–

### ä¸­æœŸæ‹¡å¼µ (6 ãƒ¶æœˆ)

- æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«çµ±åˆ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º
- ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ©Ÿèƒ½

### é•·æœŸæ‹¡å¼µ (1 å¹´)

- ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ
- é«˜åº¦ãª AI åˆ†ææ©Ÿèƒ½
- ãƒˆãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è‡ªå‹•åŒ–

---

**ä½œæˆæ—¥**: 2025 å¹´ 8 æœˆ 12 æ—¥  
**ä½œæˆè€…**: AI Assistant  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
