# LLMåˆ†æžãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (LLM Analysis Module)

## ä½¿ã£ã¦ã„ã‚‹æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Python 3.8+**
- **OpenAI GPT-4**: ãƒ¡ã‚¤ãƒ³LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
- **Anthropic Claude**: ä»£æ›¿LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
- **asyncio**: éžåŒæœŸå‡¦ç†
- **aiohttp**: éžåŒæœŸHTTPé€šä¿¡
- **PostgreSQL/TimescaleDB**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Discord Webhook**: é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- **YAML**: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- **dataclasses**: ãƒ‡ãƒ¼ã‚¿æ§‹é€ å®šç¾©
- **enum**: åˆ—æŒ™åž‹ç®¡ç†
- **logging**: ãƒ­ã‚°ç®¡ç†
- **TA-Lib**: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™è¨ˆç®—
- **yfinance**: Yahoo Finance API
- **Fibonacci Retracement**: ãƒ•ã‚£ãƒœãƒŠãƒƒãƒåˆ†æž

## æ©Ÿèƒ½ã®æ¦‚è¦

LLMï¼ˆLarge Language Modelï¼‰ã‚’ä½¿ç”¨ã—ãŸåŒ…æ‹¬çš„ãªå¸‚å ´åˆ†æžã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è“„ç©ã•ã‚ŒãŸä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿ã‚’åŸºã«ã€AIæŠ€è¡“ã‚’æ´»ç”¨ã—ã¦å¸‚å ´ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã€ä¾¡æ ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ãƒªã‚¹ã‚¯è©•ä¾¡ã€ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æžã‚’å®Ÿè¡Œã—ã€å£²è²·ã‚·ãƒŠãƒªã‚ªã‚’ç”Ÿæˆãƒ»Discordé…ä¿¡ã™ã‚‹é«˜åº¦ãªåˆ†æžãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

**ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³**:
- âœ… **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ãƒ‡ãƒ¼ã‚¿åŽé›†å®Œäº†æ™‚ã«è‡ªå‹•ã§ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžã‚’å®Ÿè¡Œ
- âœ… **éšŽå±¤çš„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æž**: D1/H4ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰ã€H1ï¼ˆã‚¾ãƒ¼ãƒ³ï¼‰ã€M5ï¼ˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼‰ã®3æ®µéšŽåˆ†æž
- âœ… **ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å£²è²·ã‚·ã‚¹ãƒ†ãƒ **: 5ã¤ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚‹è‡ªå‹•ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆ
- âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: ç¶™ç¶šçš„ç›£è¦–ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã®å¯è¦–åŒ–
- âœ… **Discordé€šçŸ¥**: ã‚·ãƒŠãƒªã‚ªä½œæˆã€ã‚¨ãƒ³ãƒˆãƒªãƒ¼/ã‚¨ã‚°ã‚¸ãƒƒãƒˆã‚·ã‚°ãƒŠãƒ«ã®è‡ªå‹•é€šçŸ¥

## èƒŒæ™¯ãƒ»ç›®çš„

### èƒŒæ™¯
- ç‚ºæ›¿åˆ†æžã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å¿…è¦ãªé«˜åº¦ãªå¸‚å ´åˆ†æž
- å¤§é‡ã®å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã®åŠ¹çŽ‡çš„ãªè§£é‡ˆã¨åˆ†æž
- äººé–“ã®åˆ¤æ–­ã‚’è£œå®Œã™ã‚‹AIæŠ€è¡“ã®æ´»ç”¨
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®å¸‚å ´çŠ¶æ³ã®æŠŠæ¡ã¨é€šçŸ¥
- ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å£²è²·ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº

### ç›®çš„
- AIæŠ€è¡“ã‚’æ´»ç”¨ã—ãŸé«˜ç²¾åº¦ãªå¸‚å ´åˆ†æž
- è¤‡æ•°ã®åˆ†æžã‚¿ã‚¤ãƒ—ã®çµ±åˆã¨æœ€é©åŒ–
- åˆ†æžçµæžœã®å“è³ªç®¡ç†ã¨ä¿¡é ¼æ€§å‘ä¸Š
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥ã¨ãƒ¬ãƒãƒ¼ãƒˆé…ä¿¡
- ç¶™ç¶šçš„ãªåˆ†æžãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã®æ”¹å–„

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 1. LLMåˆ†æžã‚µãƒ¼ãƒ“ã‚¹ (`LLMAnalysisService`)
```python
# çµ±åˆåˆ†æžã‚µãƒ¼ãƒ“ã‚¹
- è¤‡æ•°åˆ†æžã‚¿ã‚¤ãƒ—ã®ç®¡ç†
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº
- å“è³ªç®¡ç†çµ±åˆ
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
```

### 2. åˆ†æžã‚¨ãƒ³ã‚¸ãƒ³ (`AnalysisEngine`)
```python
# åˆ†æžå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³
- åŒ…æ‹¬çš„åˆ†æž
- ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æž
- ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æž
- ãƒªã‚¹ã‚¯åˆ†æž
```

### 3. LLMã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (`LLMClient`)
```python
# LLM APIé€šä¿¡
- è¤‡æ•°ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ
- éžåŒæœŸé€šä¿¡
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ç®¡ç†
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```

### 4. ãƒ‡ãƒ¼ã‚¿æº–å‚™å™¨ (`LLMDataPreparator`)
```python
# åˆ†æžãƒ‡ãƒ¼ã‚¿æº–å‚™
- ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿çµ±åˆ
- ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™è¨ˆç®—
- ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
- å“è³ªãƒã‚§ãƒƒã‚¯
- éšŽå±¤çš„åˆ†æžãƒ‡ãƒ¼ã‚¿æº–å‚™
```

### 5. å“è³ªç®¡ç†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ (`QualityController`)
```python
# å“è³ªç®¡ç†
- åˆ†æžçµæžœè©•ä¾¡
- ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢è¨ˆç®—
- å“è³ªãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- æ”¹å–„ææ¡ˆ
```

### 6. Discordé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ  (`DiscordNotifier`)
```python
# é€šçŸ¥é…ä¿¡
- ã‚·ãƒŠãƒªã‚ªé€šçŸ¥
- ã‚·ã‚°ãƒŠãƒ«é€šçŸ¥
- ãƒ¬ãƒãƒ¼ãƒˆé…ä¿¡
- ã‚¨ãƒ©ãƒ¼ã‚¢ãƒ©ãƒ¼ãƒˆ
```

### 7. ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžã‚µãƒ¼ãƒ“ã‚¹ (`TechnicalAnalysisService`)
```python
# ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžã‚µãƒ¼ãƒ“ã‚¹
- ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åˆ†æž
- ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³é€£æº
- ã‚·ãƒŠãƒªã‚ªç®¡ç†
- Discordé€šçŸ¥
```

### 8. ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ (`RuleBasedEngine`)
```python
# ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å£²è²·ã‚¨ãƒ³ã‚¸ãƒ³
- ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ¡ä»¶è©•ä¾¡
- ã‚¨ã‚°ã‚¸ãƒƒãƒˆæ¡ä»¶è©•ä¾¡
- 5ã¤ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ«ãƒ¼ãƒ«
- ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢è¨ˆç®—
```

### 9. ã‚·ãƒŠãƒªã‚ªç®¡ç† (`ScenarioManager`)
```python
# ã‚·ãƒŠãƒªã‚ªç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- ã‚·ãƒŠãƒªã‚ªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
- ã‚¨ãƒ³ãƒˆãƒªãƒ¼/ã‚¨ã‚°ã‚¸ãƒƒãƒˆå®Ÿè¡Œ
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¿½è·¡
- æœ‰åŠ¹æœŸé™ç®¡ç†
```

### 10. è¨­å®šç®¡ç† (`LLMAnalysisSettings`)
```python
# è¨­å®šç®¡ç†
- LLMè¨­å®š
- åˆ†æžè¨­å®š
- ãƒ‡ãƒ¼ã‚¿æº–å‚™è¨­å®š
- å“è³ªç®¡ç†è¨­å®š
```

## ã§ãã‚‹ã“ã¨ãƒ»åˆ¶é™äº‹é …

### ã§ãã‚‹ã“ã¨
- **åŒ…æ‹¬çš„å¸‚å ´åˆ†æž**: ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã€ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ãƒªã‚¹ã‚¯ã€ãƒˆãƒ¬ãƒ³ãƒ‰ã®çµ±åˆåˆ†æž
- **è¤‡æ•°LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ**: OpenAIã€Anthropicã€Googleç­‰ã®æŸ”è»Ÿãªé¸æŠž
- **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åˆ†æž**: ãƒ‡ãƒ¼ã‚¿åŽé›†å®Œäº†æ™‚ã®è‡ªå‹•ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžå®Ÿè¡Œ
- **éšŽå±¤çš„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æž**: D1/H4ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰ã€H1ï¼ˆã‚¾ãƒ¼ãƒ³ï¼‰ã€M5ï¼ˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼‰ã®3æ®µéšŽåˆ†æž
- **ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å£²è²·**: 5ã¤ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚‹è‡ªå‹•ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆ
- **ã‚·ãƒŠãƒªã‚ªç®¡ç†**: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‹ã‚‰ã‚¨ã‚°ã‚¸ãƒƒãƒˆã¾ã§ã®å®Œå…¨ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
- **å“è³ªç®¡ç†**: åˆ†æžçµæžœã®è‡ªå‹•å“è³ªè©•ä¾¡ã¨æ”¹å–„ææ¡ˆ
- **Discordé€šçŸ¥**: ãƒªãƒƒãƒãªåŸ‹ã‚è¾¼ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã®é€šçŸ¥é…ä¿¡
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: ç¶™ç¶šçš„ç›£è¦–ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã®å¯è¦–åŒ–
- **å±¥æ­´åˆ†æž**: éŽåŽ»ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãåˆ†æžã¨ãƒˆãƒ¬ãƒ³ãƒ‰äºˆæ¸¬
- **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°ã‚·ãƒ³ãƒœãƒ«ãƒ»æ™‚é–“è»¸ã®ä¸¦è¡Œåˆ†æž
- **ã‚ªãƒ³ãƒ‡ãƒžãƒ³ãƒ‰åˆ†æž**: å¿…è¦ã«å¿œã˜ãŸå³åº§ã®åˆ†æžå®Ÿè¡Œ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ç›£è¦–**: åˆ†æžå“è³ªã¨ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ç›£è¦–

### åˆ¶é™äº‹é …
- **LLM APIä¾å­˜**: å¤–éƒ¨APIã®åˆ¶é™ã¨ã‚³ã‚¹ãƒˆã«ä¾å­˜
- **ãƒ‡ãƒ¼ã‚¿å“è³ªä¾å­˜**: å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å“è³ªãŒåˆ†æžçµæžœã«å½±éŸ¿
- **å‡¦ç†æ™‚é–“**: è¤‡é›‘ãªåˆ†æžã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚‹
- **APIåˆ¶é™**: LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- **ã‚³ã‚¹ãƒˆåˆ¶é™**: APIä½¿ç”¨æ–™é‡‘ã®åˆ¶é™
- **è¨€èªžåˆ¶é™**: ä¸»ã«è‹±èªžã§ã®åˆ†æžã«æœ€é©åŒ–

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨æ™‚ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š
```python
# OpenAIè¨­å®š
llm_config = LLMConfig(
    provider=LLMProvider.OPENAI,
    model_name="gpt-4",
    max_tokens=4000,
    temperature=0.1
)

# Anthropicè¨­å®š
llm_config = LLMConfig(
    provider=LLMProvider.ANTHROPIC,
    model_name="claude-3-sonnet",
    max_tokens=4000,
    temperature=0.1
)
```

### åˆ†æžã‚¿ã‚¤ãƒ—è¨­å®š
```python
# åˆ†æžã‚¿ã‚¤ãƒ—
analysis_types = [
    AnalysisType.MARKET_SENTIMENT,    # å¸‚å ´ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ
    AnalysisType.PRICE_PATTERN,       # ä¾¡æ ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
    AnalysisType.RISK_ASSESSMENT,     # ãƒªã‚¹ã‚¯è©•ä¾¡
    AnalysisType.TREND_ANALYSIS       # ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æž
]
```

### åˆ†æžé »åº¦è¨­å®š
```python
# åˆ†æžé »åº¦
frequencies = [
    AnalysisFrequency.REAL_TIME,      # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
    AnalysisFrequency.HOURLY,         # æ™‚é–“åˆ¥
    AnalysisFrequency.DAILY,          # æ—¥åˆ¥
    AnalysisFrequency.WEEKLY,         # é€±åˆ¥
    AnalysisFrequency.ON_DEMAND       # ã‚ªãƒ³ãƒ‡ãƒžãƒ³ãƒ‰
]
```

### ãƒ‡ãƒ¼ã‚¿æº–å‚™è¨­å®š
```python
# ãƒ‡ãƒ¼ã‚¿æº–å‚™è¨­å®š
data_config = DataPreparationConfig(
    enable_data_aggregation=True,
    aggregation_window_minutes=60,
    enable_outlier_detection=True,
    outlier_threshold=3.0,
    enable_missing_data_interpolation=True,
    interpolation_method="linear"
)
```

### å“è³ªç®¡ç†è¨­å®š
```python
# å“è³ªç®¡ç†è¨­å®š
quality_config = QualityControlConfig(
    enable_quality_scoring=True,
    quality_threshold=0.8,
    enable_consistency_check=True,
    consistency_threshold=0.9
)
```

### Discordé€šçŸ¥è¨­å®š
```python
# Discordé€šçŸ¥è¨­å®š
notification_settings = {
    "scenario_created": True,
    "rule_evaluation": True,
    "entry_signals": True,
    "exit_signals": True,
    "daily_reports": True,
    "weekly_reports": True,
    "error_alerts": True
}
```

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
/app/modules/llm_analysis/
â”œâ”€â”€ main.py                          # ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings.py                  # è¨­å®šç®¡ç†
â”‚   â””â”€â”€ rules.yaml                   # ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹è¨­å®š
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ llm_analysis_service.py      # ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ technical_analysis_service.py # ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ analysis_engine/             # åˆ†æžã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”‚   â”œâ”€â”€ analysis_engine.py
â”‚   â”‚   â”œâ”€â”€ market_analyzer.py
â”‚   â”‚   â”œâ”€â”€ pattern_analyzer.py
â”‚   â”‚   â”œâ”€â”€ risk_analyzer.py
â”‚   â”‚   â””â”€â”€ sentiment_analyzer.py
â”‚   â”œâ”€â”€ llm_client/                  # LLMã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ llm_client.py
â”‚   â”‚   â”œâ”€â”€ openai_client.py
â”‚   â”‚   â””â”€â”€ anthropic_client.py
â”‚   â”œâ”€â”€ data_preparation/            # ãƒ‡ãƒ¼ã‚¿æº–å‚™
â”‚   â”‚   â”œâ”€â”€ data_preparator.py
â”‚   â”‚   â”œâ”€â”€ data_validator.py
â”‚   â”‚   â””â”€â”€ feature_engineer.py
â”‚   â”œâ”€â”€ quality_control/             # å“è³ªç®¡ç†
â”‚   â”‚   â”œâ”€â”€ quality_controller.py
â”‚   â”‚   â”œâ”€â”€ quality_metrics.py
â”‚   â”‚   â””â”€â”€ quality_validator.py
â”‚   â”œâ”€â”€ rule_engine.py               # ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ scenario_manager.py          # ã‚·ãƒŠãƒªã‚ªç®¡ç†
â”‚   â”œâ”€â”€ technical_calculator.py      # ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™è¨ˆç®—
â”‚   â”œâ”€â”€ snapshot_manager.py          # ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆç®¡ç†
â”‚   â””â”€â”€ trading_pipeline.py          # å–å¼•ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ notification/                    # é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ discord_notifier.py
â”‚   â””â”€â”€ message_formatter.py
â”œâ”€â”€ evaluation/                      # è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â””â”€â”€ daily_evaluator.py
â”œâ”€â”€ llm/                            # LLMå‡¦ç†
â”‚   â”œâ”€â”€ llm_analyzer.py
â”‚   â”œâ”€â”€ language_processor.py
â”‚   â”œâ”€â”€ journal_generator.py
â”‚   â””â”€â”€ improvement_advisor.py
â”œâ”€â”€ providers/                      # ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ base_provider.py
â”‚   â”œâ”€â”€ oanda_stream_client.py
â”‚   â””â”€â”€ yahoo_finance_stream_client.py
â”œâ”€â”€ services/                       # ã‚µãƒ¼ãƒ“ã‚¹å±¤
â”‚   â””â”€â”€ analysis_service.py         # åˆ†æžã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ orchestration/                  # ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ trading_pipeline.py         # å–å¼•ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³çµ±åˆ
â”œâ”€â”€ tests/                          # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ test_llm_analyzer.py
â”‚   â”œâ”€â”€ test_analysis_engine.py
â”‚   â”œâ”€â”€ test_discord_notifier.py
â”‚   â”œâ”€â”€ test_rule_engine.py
â”‚   â”œâ”€â”€ test_technical_calculator.py
â”‚   â””â”€â”€ test_technical_values.py
â”œâ”€â”€ LLMåˆ†æžãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä»•æ§˜æ›¸.md        # è©³ç´°ä»•æ§˜æ›¸
â””â”€â”€ ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å£²è²·ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜æ›¸.md  # ãƒ«ãƒ¼ãƒ«ä»•æ§˜æ›¸
```

## æ³¨æ„ç‚¹

### é‹ç”¨æ™‚ã®æ³¨æ„ç‚¹
1. **APIåˆ¶é™**: LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’è¶…ãˆãªã„ã‚ˆã†æ³¨æ„
2. **ã‚³ã‚¹ãƒˆç®¡ç†**: APIä½¿ç”¨æ–™é‡‘ã®ç›£è¦–ã¨äºˆç®—ç®¡ç†
3. **ãƒ‡ãƒ¼ã‚¿å“è³ª**: å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å“è³ªãŒåˆ†æžçµæžœã«ç›´æŽ¥å½±éŸ¿
4. **åˆ†æžé »åº¦**: éŽåº¦ãªåˆ†æžã«ã‚ˆã‚‹APIåˆ¶é™ã®å›žé¿
5. **é€šçŸ¥è¨­å®š**: Discordé€šçŸ¥ã®é©åˆ‡ãªè¨­å®šã¨ã‚¹ãƒ‘ãƒ é˜²æ­¢

### é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹
1. **éžåŒæœŸå‡¦ç†**: asyncioã®é©åˆ‡ãªä½¿ç”¨ã¨ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†
2. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: LLM APIã®ä¸å®‰å®šæ€§ã¸ã®å¯¾å¿œ
3. **è¨­å®šç®¡ç†**: ç’°å¢ƒå¤‰æ•°ã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®é©åˆ‡ãªç®¡ç†
4. **ãƒ†ã‚¹ãƒˆ**: ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ãŸAPIåˆ¶é™ã®ãƒ†ã‚¹ãƒˆ
5. **ãƒ­ã‚°ç®¡ç†**: è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›ã¨ãƒ‡ãƒãƒƒã‚°æƒ…å ±

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …
1. **APIèªè¨¼**: LLM APIã‚­ãƒ¼ã®é©åˆ‡ãªç®¡ç†ã¨ä¿è­·
2. **ãƒ‡ãƒ¼ã‚¿ä¿è­·**: åˆ†æžãƒ‡ãƒ¼ã‚¿ã®æ©Ÿå¯†æ€§ç¢ºä¿
3. **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**: Discord Webhookã®é©åˆ‡ãªè¨­å®š
4. **ãƒ­ã‚°æƒ…å ±**: æ©Ÿå¯†æƒ…å ±ã®ãƒ­ã‚°å‡ºåŠ›å›žé¿
5. **é€šä¿¡æš—å·åŒ–**: HTTPSé€šä¿¡ã®ç¢ºä¿

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è€ƒæ…®äº‹é …
1. **ä¸¦åˆ—å‡¦ç†**: è¤‡æ•°åˆ†æžã®åŠ¹çŽ‡çš„ãªä¸¦è¡Œå®Ÿè¡Œ
2. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: åˆ†æžçµæžœã®é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
3. **ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†**: ãƒ¡ãƒ¢ãƒªã¨CPUä½¿ç”¨é‡ã®æœ€é©åŒ–
4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: åŠ¹çŽ‡çš„ãªã‚¯ã‚¨ãƒªã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ´»ç”¨
5. **APIæœ€é©åŒ–**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆé »åº¦ã¨ãƒãƒƒãƒå‡¦ç†ã®æœ€é©åŒ–

### LLMç‰¹æœ‰ã®æ³¨æ„ç‚¹
1. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ**: åŠ¹æžœçš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°
2. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†**: ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™å†…ã§ã®åŠ¹çŽ‡çš„ãªæƒ…å ±ä¼é”
3. **å‡ºåŠ›è§£æž**: LLMå‡ºåŠ›ã®æ§‹é€ åŒ–ã¨æ¤œè¨¼
4. **å“è³ªè©•ä¾¡**: åˆ†æžçµæžœã®å®¢è¦³çš„ãªå“è³ªè©•ä¾¡
5. **ãƒã‚¤ã‚¢ã‚¹å¯¾ç­–**: LLMã®æ½œåœ¨çš„ãƒã‚¤ã‚¢ã‚¹ã¸ã®å¯¾å¿œ

### ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹é€£æºã®æ³¨æ„ç‚¹
1. **ãƒ«ãƒ¼ãƒ«æ•´åˆæ€§**: åˆ†æžçµæžœã¨ãƒ«ãƒ¼ãƒ«ã®æ•´åˆæ€§ç¢ºä¿
2. **ã‚·ã‚°ãƒŠãƒ«å“è³ª**: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚·ã‚°ãƒŠãƒ«ã®ä¿¡é ¼æ€§ç®¡ç†
3. **ãƒªã‚¹ã‚¯ç®¡ç†**: åˆ†æžçµæžœã«åŸºã¥ããƒªã‚¹ã‚¯è©•ä¾¡
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¿½è·¡**: åˆ†æžç²¾åº¦ã¨å–å¼•çµæžœã®ç›¸é–¢
5. **ç¶™ç¶šæ”¹å–„**: åˆ†æžçµæžœã«åŸºã¥ããƒ«ãƒ¼ãƒ«ã®æœ€é©åŒ–

## ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨çŠ¶æ³

### èµ·å‹•ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹
1. **ãƒ‡ãƒ¼ã‚¿åŽé›†ãƒ‡ãƒ¼ãƒ¢ãƒ³** (`start_event_driven_system.py`)
   - 5åˆ†é–“éš”ã§ãƒ‡ãƒ¼ã‚¿åŽé›†
   - ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã§ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžå®Ÿè¡Œ
   - ã‚·ãƒŠãƒªã‚ªä½œæˆã¨Discordé€šçŸ¥

2. **ç¶™ç¶šçš„ç›£è¦–ãƒ„ãƒ¼ãƒ«** (`continuous_monitor.py`)
   - 10ç§’é–“éš”ã§ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã‚’ç›£è¦–
   - æ—¥æœ¬æ™‚é–“è¡¨ç¤ºã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
   - ãƒ‡ãƒ¼ã‚¿æ›´æ–°çŠ¶æ³ã®å¯è¦–åŒ–

### ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ«ãƒ¼ãƒ«
- **pullback_buy**: æŠ¼ã—ç›®è²·ã„ï¼ˆRSI â‰¤ 40, ä¾¡æ ¼ > EMA200ï¼‰
- **reversal_sell**: é€†å¼µã‚Šå£²ã‚Šï¼ˆRSI â‰¥ 70, ä¾¡æ ¼ < EMA200ï¼‰
- **trend_follow_sell**: ä¸‹é™ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ•ã‚©ãƒ­ãƒ¼å£²ã‚Š
- **strong_downtrend_sell**: å¼·ã„ä¸‹é™ãƒˆãƒ¬ãƒ³ãƒ‰å£²ã‚Šï¼ˆRSI 25-40ï¼‰

### ç›£è¦–å†…å®¹
- ðŸ“ˆ **ãƒ‡ãƒ¼ã‚¿åŽé›†çŠ¶æ³**: å„æ™‚é–“è¶³ã®æœ€æ–°ãƒ‡ãƒ¼ã‚¿æ™‚åˆ»
- ðŸ“¢ **ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†**: ãƒ‡ãƒ¼ã‚¿åŽé›†å®Œäº†ã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†çŠ¶æ³
- ðŸ” **åˆ†æžçµæžœ**: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æžã®å®Ÿè¡Œçµæžœ
- ðŸŽ¯ **ã‚·ãƒŠãƒªã‚ªçŠ¶æ³**: ä½œæˆã•ã‚ŒãŸã‚·ãƒŠãƒªã‚ªã®æƒ…å ±
- ðŸ’š **ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹**: å…¨ä½“çš„ãªã‚·ã‚¹ãƒ†ãƒ ã®å¥å…¨æ€§

---

**ä½œæˆæ—¥**: 2025å¹´1æœˆ4æ—¥  
**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ18æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0  
**å¯¾è±¡ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: `/app/modules/llm_analysis`
